"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.processCountTokenResponse = exports.throwErrorIfNotOK = void 0;
const errors_1 = require("../types/errors");
function throwErrorIfNotOK(response) {
    if (response === undefined) {
        throw new errors_1.GoogleGenerativeAIError('response is undefined');
    }
    const status = response.status;
    const statusText = response.statusText;
    const errorMessage = `got status: ${status} ${statusText}`;
    if (status >= 400 && status < 500) {
        throw new errors_1.ClientError(errorMessage);
    }
    if (!response.ok) {
        throw new errors_1.GoogleGenerativeAIError(errorMessage);
    }
}
exports.throwErrorIfNotOK = throwErrorIfNotOK;
/**
 * Process model responses from countTokens
 * @ignore
 */
function processCountTokenResponse(response) {
    // ts-ignore
    const responseJson = response.json();
    return responseJson;
}
exports.processCountTokenResponse = processCountTokenResponse;
//# sourceMappingURL=post_fetch_processing.js.map